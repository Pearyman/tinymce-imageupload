tinymce.PluginManager.add("fullscreenx",function(e){function t(){var e,t,n=window,r=document,i=r.body;return i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function n(){function n(){u.setStyle(c,"height",t().h-(f.clientHeight-c.clientHeight))}var f,c,h,p=document.body,d=document.documentElement;o=!o,f=e.getContainer().firstChild,c=e.getContentAreaContainer().firstChild,h=c.style,o?(r=h.width,i=h.height,h.width=h.height="100%",u.addClass(p,"mce-fullscreen"),u.addClass(d,"mce-fullscreen"),u.addClass(f,"mce-fullscreen"),u.bind(window,"resize",n),n(),s=n):(h.width=r,h.height=i,u.removeClass(p,"mce-fullscreen"),u.removeClass(d,"mce-fullscreen"),u.removeClass(f,"mce-fullscreen"),u.unbind(window,"resize",s)),e.fire("FullscreenStateChanged",{state:o})}var r,i,s,o=!1,u=tinymce.DOM;if(!e.settings.inline)return e.on("init",function(){}),e.on("remove",function(){s&&u.unbind(window,"resize",s)}),e.addCommand("mceFullScreenX",n),{isFullscreen:function(){return o}}});